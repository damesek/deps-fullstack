{"version":3,"sources":["project/cljs/routes.cljs"],"mappings":";AAUA,6BAAA,mFAAA,OAAA,2CAAA,GAAA,rKAAKA;AAEL,gCAAA,hCAAOC,wEAAWC;AAAlB,AACE,OAACC,sBAAiBH,2BAAOE;;AAG3B;;;;sCAAA,tCAAME,oFAGHC,WAAWC,QAAQC,aAAaC;AAHnC,AAIE,AAACC,yGAAQ,CAAA,0EAAA,4DAAA,iEAAA,zIAAuBJ,+DAAiBC,4DAAcC,iEAAmBC;;AAClF,oBAAI,iBAAAE,oBAAK,AAACC,6CAAEL,QAAQD;AAAhB,AAAA,GAAAK;AAA4BF;;AAA5BE;;;AACF,OAACE,8CAAM,yGAAA,zGAACH,wHACD,uBAAA,vBAACI,0GAAaN,aAAaC;;AAClC,8BAAA,gGAAA,vHAACK,0GAAaN;;;AAElB;;;;qCAAA,rCAAOO,kFAGJC;AAHH,AAKE,IAAMT,UAAQ,AAACU,mDAAQ,AAAA,yFAAUD;IAC3BP,SAAO,AAAA,mGAAeO;AAD5B,AAAA;;AAKF,GAAA,QAAAE,oCAAAC,yCAAAC,gDAAAC;AAAA;AAAA,AAAA,AAAmBC,8BACV,AAACC,iBAAYR,mCAAeb;;AAErC,kCAAA,lCAAMsB;AAAN,AACE,OAAcF;;AAGhB,AAAA;;;8BAAA,sCAAAG,pEAAMM;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,iEAAA,CAAA,UAAA,MAAAF;;;AAAA,AAAA,CAAA,mEAAA,nEAAME,8EAEHM,QAAU5B;AAFb,AAGE,OAAC6B,8CAAMC,mBAActC,2BAAOoC,QAAQ5B;;;AAHtC,CAAA,sDAAA,tDAAMsB;;AAAN;AAAA,CAAA,gDAAA,WAAAC,3DAAMD;AAAN,AAAA,IAAAE,WAAA,AAAAC,gBAAAF;IAAAA,eAAA,AAAAG,eAAAH;AAAA,AAAA,IAAAI,qBAAA;AAAA,AAAA,OAAAA,wDAAAH,SAAAD;;;AAAA,AAMA,AAAA;;;qCAAA,6CAAAP,lFAAMe;AAAN,AAAA,IAAAd,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAc,wEAAA,CAAA,UAAA,MAAAX;;;AAAA,AAAA,CAAA,0EAAA,1EAAMW,qFAEHH,QAAU5B;AAFb,AAGE,OAAkBa,6EAAQ,AAACgB,8CAAMP,4BAAQM,QAAQ5B;;;AAHnD,CAAA,6DAAA,7DAAM+B;;AAAN;AAAA,CAAA,uDAAA,WAAAC,lEAAMD;AAAN,AAAA,IAAAE,WAAA,AAAAR,gBAAAO;IAAAA,eAAA,AAAAN,eAAAM;AAAA,AAAA,IAAAL,qBAAA;AAAA,AAAA,OAAAA,wDAAAM,SAAAD;;;AAAA","names":["project.cljs.routes/routes","project.cljs.routes/parse-url","url","bidi.bidi/match-route","project.cljs.routes/dispatch-router","route-path","handler","dispatch-key","params","cljs.core.println","and__5043__auto__","cljs.core._EQ_","cljs.core.doall","re-frame.core/dispatch","project.cljs.routes/dispatch-route","matched-route","cljs.core.js__GT_clj","js/project","js/project.cljs","js/project.cljs.routes","js/project.cljs.routes.history","project.cljs.routes/history","pushy.core/pushy","project.cljs.routes/start!","var_args","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","project.cljs.routes/url-for","seq49591","G__49592","cljs.core/first","cljs.core/next","self__5754__auto__","page-id","cljs.core.apply","bidi.bidi/path-for","project.cljs.routes/navigate!","seq49593","G__49594"],"sourcesContent":["(ns project.cljs.routes\n  (:require [bidi.bidi :as bidi]\n            [pushy.core :as pushy]\n            [re-frame.core :as rf]))\n\n\n\n\n\n\n(def routes [\"/app\" {\"\"  ::home}])\n\n(defn- parse-url [url]\n  (bidi/match-route routes url))\n\n\n(defn dispatch-router\n  \"handle different dispatch requests,\n  when need to dispatch or clear\"\n  [route-path handler dispatch-key params]\n  (println (str \"params handler \" route-path \" h* \"handler \" d* \"dispatch-key \" p* \"params))\n  (if (and (= handler route-path) params)\n    (doall (println \"truuue\")\n           (rf/dispatch [dispatch-key params]))\n    (rf/dispatch [dispatch-key nil])))\n\n(defn- dispatch-route\n  \"dispatch-sync helps to render page immediately, without hitting 404,\n  because it was not set :request-method\"\n  [matched-route]\n\n  (let [handler (js->clj (:handler matched-route))\n        params (:route-params matched-route)]\n    ,,,\n    ))\n\n(defonce ^:private history\n         (pushy/pushy dispatch-route parse-url))\n\n(defn start! []\n  (pushy/start! history))\n\n\n(defn url-for\n  \"Generates an URL for given page\"\n  [page-id & params]\n  (apply bidi/path-for routes page-id params))\n\n\n(defn navigate!\n  \"Changes URL in browser, which triggers also a dispatch event\"\n  [page-id & params]\n  (pushy/set-token! history (apply url-for page-id params)))"]}